// Generated by CoffeeScript 1.7.1
var nameFormatIsInvalid;

$(function() {
  var validateForm;
  validateForm = function() {
    var firstName, lastName, nameFormat, phoneFormat, phoneNumber, sex, validationErrorMessage;
    firstName = document.forms["personForm"]["firstName"].value;
    lastName = document.forms["personForm"]["lastName"].value;
    sex = document.forms["personForm"]["sex"].value;
    phoneNumber = document.forms["personForm"]["phoneNumber"].value;
    phoneFormat = /^\(?\d\d\d\)?[-\s]?\d\d\d[-\s]?\d\d\d\d$/;
    nameFormat = /[A-Z][a-z]+/;
    validationErrorMessage = "";
    if (!nameFormatIsInvalid(nameFormat)) {
      validationErrorMessage += "The name must only contain letters.<br>";
      $("#validationError").html(validationErrorMessage);
      return false;
    }
    if (!phoneFormat.test(phoneNumber)) {
      validationErrorMessage += "Phone Numbers Must be in the following format: (xxx) xxx-xxxx";
      $("#validationError").html(validationErrorMessage);
      return false;
    }
  };
  $("input[name='showHobbies']").click(function() {
    if ($(this).val() === 'yes') {
      return $("#hobbies").removeClass('hidden');
    } else {
      return $("#hobbies").addClass('hidden');
    }
  });
  $(".removeButton").click(function() {
    var self;
    self = $(this);
    event.preventDefault();
    return bootbox.confirm("Are you sure?", function(result) {
      if (result) {
        return window.location = self.attr('href');
      }
    });
  });
  return $(".starsRating").hover(function() {
    var currentStar, i, _i, _results;
    currentStar = parseInt($(this).attr("id").split("_")[1]);
    $("input[name='stars']").val(currentStar);
    _results = [];
    for (i = _i = 1; _i <= 5; i = ++_i) {
      if (i <= currentStar) {
        _results.push($("#star_" + i).attr("src", "../star.gif"));
      } else {
        _results.push($("#star_" + i).attr("src", "../no-star.png"));
      }
    }
    return _results;
  });
});

nameFormatIsInvalid = function(nameFormat) {
  return nameFormat.test(firstName) && nameFormat.test(lastName);
};
